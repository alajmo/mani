import:
  - ./tmp/projects.yaml

projects:
  example:
    path: .

  tap-report:
    path: frontend/tap-report
    url: https://github.com/alajmo/tap-report
    desc: A tap report theme
    tags: [frontend]
    env:
      branch: lala

  dashgrid:
    path: frontend/dashgrid
    url: git+ssh://git@github.com/alajmo/dashgrid.git
    # clone: git clone git@github.com:alajmo/dashgrid # default
    desc: A highly customizable drag-and-drop grid
    tags: [frontend, kaka]
    env:
      branch: hello

  template-generator:
    url: git@github.com:alajmo/template-generator
    desc: A simple bash script used to manage boilerplates
    tags: [cli, bash]

env:
  DATE: $(date -u +"%Y-%m-%dT%H:%M:%S%Z")
  VERSION: v5.1.0
  GIT: git --no-pager

themes:
  default:
    # table: ascii
    tree: connected-bold

  circle:
    tree: circle

tasks:
  test:
    cmd: echo $branch

  echo:
    desc: Print hello world
    output: table
    parallel: false
    target:
      paths: [frontend]
      # projects: [pinto]

    cmd: |
      # sleep $(echo $RANDOM % 1 + 1 | bc; )
      echo "hello world"
      grep name package.json
      # grep --color=auto name package.json
      if [ -t 1 ] ; then echo \"terminal\"; else echo \"not a terminal\"; fi

  beta:
    # desc: Beta command
    cmd: echo "hello beta"

  sleep:
    theme: default
    target:
      paths: [frontend]
    output: text
    cmd: |
      sleep 5
      pwd

  install:
    desc: npm install
    output: text
    cmd: npm install

  refs:
    desc: Run multiple commands

    output: text

    # spec:
    #   output: text
    #   ignore_error: true
    #   print_empty: true
    #   parallel: false
    #   theme: circle

    target:
      all_projects: true
      # tags: [frontend]
      # projects: [pinto]

    cmd: echo 123

    commands:
      - task: echo
      - task: beta
      - task: echo
