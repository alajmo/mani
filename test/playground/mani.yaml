import:
  - ./tmp/mani.yaml

projects:
  - name: example
    path: .

  - name: pinto
    path: frontend/pinto
    url: git@github.com:alajmo/pinto
    description: A vim theme editor
    tags: [frontend]

  - name: dashgrid
    path: frontend/dashgrid
    url: git+ssh://git@github.com/alajmo/dashgrid.git
    # clone: git clone git@github.com:alajmo/dashgrid # default
    description: A highly customizable drag-and-drop grid
    tags: [frontend]

  - name: template-generator
    url: git@github.com:alajmo/template-generator
    description: A simple bash script used to manage boilerplates
    tags: [cli, bash]

dirs:
  - name: tmp
    path: /home/samir/tmp

  - name: kaka
    path: /home/samir/projects/mani/test/playground/tmp/kaka

  # - name: tmp
  #   path: tmp/kaka

env:
  DATE: $(date -u +"%Y-%m-%dT%H:%M:%S%Z")
  VERSION: v5.1.0
  GIT: git --no-pager

themes:
  default:
    table: ascii
    tree: line

  circle:
    tree: circle

tasks:
  - name: echo
    description: Print hello world
    output: line
    parallell: true
    target:
      # tags: [frontend]
      # dirs: [tmp]
      projects: [pinto]
      cwd: false

    command: |
      echo "hello world"

  - name: sleep
    theme: default
    target:
      # dirs: [tmp]
      # projects: [pinto]
      tags: [frontend]
      # projects: [template-generator]

    output: markdown

    command: |
      sleep 5
      pwd

  - name: install
    description: npm install
    output: line
    command: npm install

  - name: refs
    description: Run multiple commands
    output: line
    target:
      projects: [pinto]
      # tags: [frontend]
    # command: echo parent

    commands:
      - task: echo
      - task: install
  # - name: submarine
  #   output: table
  #   command: echo task
  #   env:
  #     TASK: submarine task
  #     FOO: FOO
  #   commands:
  #     - name: branch
  #       command: echo branch
  #     - name: local diff
  #       command: sleep 4
  #     - name: remote diff
  #       command: echo remote diff
  #     - name: node cmd
  #       shell: node -e
  #       command: console.log("node")
  #     - name: TASK
  #       env:
  #         FOO: BAR
  #         BAR: BAR
  #       command: |
  #         echo "TASK: $TASK"
  #         echo "FOO: $FOO"
  #         echo "BAR: $BAR"
