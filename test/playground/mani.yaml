import:
  - ./tmp/mani.yaml

projects:
  example:
    path: .

  pinto:
    path: frontend/pinto
    url: git@github.com:alajmo/pinto
    description: A vim theme editor
    tags: [frontend]

  dashgrid:
    path: frontend/dashgrid
    url: git+ssh://git@github.com/alajmo/dashgrid.git
    # clone: git clone git@github.com:alajmo/dashgrid # default
    description: A highly customizable drag-and-drop grid
    tags: [frontend]

  template-generator:
    url: git@github.com:alajmo/template-generator
    description: A simple bash script used to manage boilerplates
    tags: [cli, bash]

env:
  DATE: $(date -u +"%Y-%m-%dT%H:%M:%S%Z")
  VERSION: v5.1.0
  GIT: git --no-pager

themes:
  default:
    # table: ascii
    tree: line

  circle:
    tree: circle

tasks:
  lala: echo 123

  echo:
    description: Print hello world
    # output: list
    parallel: true
    target:
      tags: [frontend]

    command: |
      sleep 2
      echo "hello world"

  sleep:
    theme: default
    target:
      # dirs: [tmp]
      # projects: [pinto]
      tags: [frontend]
      # projects: [template-generator]
    output: markdown
    command: |
      sleep 5
      pwd

  install:
    description: npm install
    output: line
    command: npm install

  refs:
    description: Run multiple commands
    env:
      LALA: hej
      LELE: hej
    target:
      projects: [pinto]
    output: line
    abort: true
    commands:
      - name: one
        env:
          HEJ: SAN
        command: echo one

      - name: two
        command: |
          echo 123
          kaka=lkklk;sdjf sdf sjdf

      - name: three
        command: echo three
# - name: submarine
#   output: table
#   command: echo task
#   env:
#     TASK: submarine task
#     FOO: FOO
#   commands:
#     - name: branch
#       command: echo branch
#     - name: local diff
#       command: sleep 4
#     - name: remote diff
#       command: echo remote diff
#     - name: node cmd
#       shell: node -e
#       command: console.log("node")
#     - name: TASK
#       env:
#         FOO: BAR
#         BAR: BAR
#       command: |
#         echo "TASK: $TASK"
#         echo "FOO: $FOO"
#         echo "BAR: $BAR"
