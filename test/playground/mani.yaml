import:
  - ./tmp/mani.yaml

projects:
  example:
    path: .

  pinto:
    path: frontend/pinto
    url: git@github.com:alajmo/pinto
    desc: A vim theme editor
    tags: [frontend]

  dashgrid:
    path: frontend/dashgrid
    url: git+ssh://git@github.com/alajmo/dashgrid.git
    # clone: git clone git@github.com:alajmo/dashgrid # default
    desc: A highly customizable drag-and-drop grid
    tags: [frontend]

  template-generator:
    url: git@github.com:alajmo/template-generator
    desc: A simple bash script used to manage boilerplates
    tags: [cli, bash]

env:
  DATE: $(date -u +"%Y-%m-%dT%H:%M:%S%Z")
  VERSION: v5.1.0
  GIT: git --no-pager

themes:
  default:
    table: ascii
    tree: line

  circle:
    tree: circle

tasks:
  lala: echo 123

  echo:
    desc: Print hello world
    output: list
    parallel: false
    target:
      tags: [frontend]

    command: |
      sleep $(echo $RANDOM % 4 + 1 | bc; )
      echo "hello world"

  sleep:
    theme: default
    target:
      # dirs: [tmp]
      # projects: [pinto]
      tags: [frontend]
      # projects: [template-generator]
    output: markdown
    command: |
      sleep 5
      pwd

  install:
    desc: npm install
    output: line
    command: npm install

  refs:
    desc: Run multiple commands
    target:
      tags: [frontend]
    output: line
    abort: false
    parallel: true
    commands:
      - task: echo

      - task: echo

      - task: echo
